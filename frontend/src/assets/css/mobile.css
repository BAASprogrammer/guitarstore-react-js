/* ===== MOBILE RESPONSIVE STYLES ===== */
/* Base styles already use clamp() for fluid responsiveness.
   These media queries handle major structural layout changes.
   Order: largest → smallest breakpoint. */

/* ===== GLOBAL MOBILE RESET ===== */
* {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}

/* ===== DESKTOP LARGE (max-width: 1366px) ===== */
@media screen and (max-width: 1366px) {

    .menu-container.grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ===== DESKTOP SMALL (max-width: 1023px) ===== */
@media screen and (max-width: 1023px) {

    .menu-container.grid {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Contact - wider on tablets */
    .contact-section {
        width: clamp(320px, 75%, 550px);
    }

    /* Welcome Container - hide image on tablets */
    .guitar-home {
        display: none;
    }

    /* Welcome in single column when image is hidden */
    .welcome-container {
        grid-template-columns: 1fr;
    }

    /* Home buttons centered */
    .button-home-container {
        justify-content: center;
        gap: 1rem;
    }

    /* Why Choose Us - smaller items on tablets */
    .why-choose-us-item {
        flex: 1 1 calc(50% - 1rem);
        max-width: 280px;
    }
}

/* ===== TABLETS & MOBILE (max-width: 768px) ===== */
@media screen and (max-width: 768px) {

    /* Grid Layout - 2 columns on tablets */
    .menu-container.grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }

    /* Header - single column */
    .header-container {
        grid-template-columns: 1fr;
        padding: 0.5rem 1rem;
    }

    /* Contact */
    .contact-section {
        width: clamp(280px, 95%, 500px);
    }

    .form-group {
        width: 100%;
    }

    /* Hide some dots for better performance */
    .dot--4,
    .dot--6 {
        display: none;
    }

    /* Welcome Container - single centered column */
    .welcome-container {
        grid-template-columns: 1fr;
        text-align: center;
    }

    .welcome-container>div:first-child {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .welcome-animation {
        justify-content: center;
    }

    .button-home-container {
        justify-content: center;
        flex-wrap: wrap;
        gap: 0.75rem;
    }

    .view-products,
    .why-us {
        margin-right: 0;
        flex: none;
        padding: 0.8rem 1.2rem;
    }

    .welcome-title {
        font-size: 2rem;
    }

    /* ---- Shopping Cart ---- */
    .modal-shoppingcart.data-shoppingcart {
        width: min(92vw, 450px);
        right: 4vw;
        left: auto;
        padding: 0.75rem;
    }

    .modal-shoppingcart.empty-shoppingcart {
        font-size: 0.9rem;
        width: max-content;
    }

    .modal-row {
        grid-template-columns: 48px 1.4fr 0.9fr auto;
        font-size: 0.8rem;
        gap: 0.4rem;
        align-items: center;
    }

    .grid-item-modal {
        padding: 0.2rem;
        font-size: 0.78rem;
    }

    .grid-item-modal img {
        width: 42px;
        height: 42px;
    }

    /* Keep quantity controls horizontal on tablets */
    .quantity-container {
        flex-direction: row;
        gap: 0;
    }

    .add-del-cart {
        width: 26px;
        height: 26px;
        min-width: 26px;
        min-height: 26px;
        font-size: 0.85rem;
    }

    /* Cart footer buttons - side by side */
    .cart-buttons-group {
        grid-template-columns: 1fr 1fr;
        gap: 0.75rem;
    }

    .empty-cart-button,
    .pay-cart-button {
        width: 100%;
        padding: 0.65rem 0.5rem;
        font-size: 0.8rem;
        white-space: nowrap;
    }

    /* ---- Add to Cart Button ---- */
    .add-cart-button {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
        width: 90%;
    }

    /* ---- Dark/Light Mode Switch ---- */
    .darkmode-shop {
        right: 1rem;
    }

    .mode-dark-light {
        bottom: 200px;
        left: 10px;
    }

    .mode-dark-light label {
        height: 24px;
    }

    /* ---- Menu Toggle ---- */
    .menu-toggle-button {
        display: block;
        position: absolute;
        right: 0;
        bottom: 27px;
        transform: translate(-7px, 35px);
        cursor: pointer;
        padding: 0.5rem;
        min-width: 44px;
        min-height: 44px;
        /* Touch-friendly */
    }

    .menu-closed {
        display: none;
    }

    .header-menu.menu-closed {
        position: absolute;
    }

    .menu-opened {
        position: absolute;
        top: 50px;
        right: 1rem;
        width: clamp(140px, 50vw, 300px);
        background: var(--white);
        box-shadow: var(--shadow-md);
        flex-direction: column;
        border-radius: 0.5rem;
        padding: 1rem;
        justify-content: flex-start;
        border: 2px solid var(--primary-color);
        opacity: 0.90;
        z-index: 12;
        bottom: unset;
        left: unset;
    }

    .menu-opened .menu-link {
        padding: 0.75rem 0.5rem;
        border-bottom: 1px solid var(--border-light);
        width: 90%;
        min-height: 44px;
        /* Touch-friendly */
        display: flex;
        align-items: center;
    }

    .menu-opened .menu-link:last-child {
        border-bottom: none;
    }

    /* Dark theme menu */
    .dark-theme .menu-opened {
        background-color: var(--black);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 126, 0, 0.2);
        border-color: #b8a899;
    }

    .dark-theme .menu-opened .menu-link {
        color: var(--white);
    }

    .dark-theme .header-menu::before {
        border-color: transparent transparent var(--dark-overlay) transparent;
        filter: drop-shadow(0 -1px 1px rgba(255, 126, 0, 0.3));
    }

    /* ---- Categories ---- */
    .categories-buttons-container .category-button {
        flex: 1 1 auto;
    }

    /* ---- Why Choose Us ---- */
    .why-choose-us-grid {
        flex-direction: column;
        align-items: center;
        padding: 0 1rem;
    }

    .why-choose-us-item {
        flex: 1 1 auto;
        width: calc(100% - 2rem);
        max-width: 350px;
        min-width: 0;
        min-height: auto;
    }

    .why-choose-us-title {
        font-size: 1.8rem;
    }

    /* ---- About ---- */
    .about-container {
        padding: 1.25rem;
    }

    .about-section {
        padding: 2rem 1rem;
    }

    /* ---- Main Container ---- */
    .main-container {
        padding: 0 1rem;
    }
}

/* ===== DESKTOP - Dark/Light Mode label (min-width: 768px) ===== */
@media (min-width: 768px) {

    .mode-dark-light label {
        width: 70px;
        height: 25px;
    }

    .menu-overlay {
        display: none;
    }

    .header-menu .menu-icon {
        display: none;
    }

    .header-menu .menu-title {
        display: none;
    }
}

/* ===== SMALL MOBILE (max-width: 576px) ===== */
@media screen and (max-width: 576px) {

    /* Grid Layout - single column */
    .menu-container.grid {
        grid-template-columns: 1fr;
        gap: 1.25rem;
    }

    /* Home buttons stacked and centered */
    .button-home-container {
        flex-direction: column;
        align-items: center;
        width: 100%;
        gap: 0.75rem;
    }

    .view-products,
    .why-us {
        width: 100%;
        max-width: 280px;
        margin: 0;
    }

    /* ---- Shopping Cart ---- */

    /* Cart modal: full width, fixed above header */
    .modal-shoppingcart.data-shoppingcart {
        position: fixed;
        width: calc(100vw - 2rem);
        max-width: none;
        right: 1rem;
        left: .35rem;
        top: 80px;
        padding: 0.75rem 0.6rem;
        z-index: var(--z-cart);
        box-shadow: var(--shadow-lg);
        max-height: calc(100vh - 100px);
        overflow-y: auto;
    }

    /* Empty cart modal */
    .modal-shoppingcart.empty-shoppingcart {
        position: fixed;
        width: min(90vw, 320px);
        right: 50%;
        transform: translateX(50%);
        top: 80px;
        z-index: var(--z-cart);
    }

    /* 3-column card layout: image | name+price | quantity */
    .modal-row {
        grid-template-columns: 44px 1fr auto;
        grid-template-areas: "img info qty";
        gap: 0.5rem;
        align-items: center;
        padding: 0.6rem 0;
        font-size: 0.8rem;
    }

    /* Hide table header row */
    .modal-row.header {
        display: none;
    }

    /* Footer row: reset item grid areas, stack total above buttons */
    .modal-row.footer {
        grid-template-columns: 1fr;
        grid-template-areas: unset;
        gap: 0.5rem;
    }

    .modal-row.footer .grid-item-modal.right {
        font-size: 1rem;
        margin-bottom: 0.75rem;
        text-align: right;
    }

    /* Item rows: assign grid areas */
    .modal-row:not(.footer) .grid-item-modal:nth-child(1) {
        grid-area: img;
    }

    .modal-row:not(.footer) .grid-item-modal:nth-child(2) {
        grid-area: info;
    }

    /* Price column: hidden — shown via ::after below product name */
    .modal-row:not(.footer) .grid-item-modal:nth-child(3) {
        display: none;
    }

    .modal-row:not(.footer) .grid-item-modal:nth-child(4) {
        grid-area: qty;
    }

    /* Price shown inline below product name */
    .modal-row:not(.footer) .grid-item-modal:nth-child(2)::after {
        content: attr(data-price);
        display: block;
        font-size: 0.75rem;
        color: var(--primary-color);
        font-weight: var(--weight-semi-bold);
        margin-top: 2px;
    }

    .grid-item-modal {
        padding: 0.15rem;
        font-size: 0.8rem;
    }

    .grid-item-modal img {
        width: 40px;
        height: 40px;
    }

    /* Quantity controls always horizontal */
    .quantity-container {
        flex-direction: row;
        gap: 0;
        padding: 2px;
    }

    .add-del-cart {
        width: 26px;
        height: 26px;
        min-width: 26px;
        min-height: 26px;
        font-size: 0.85rem;
        margin: 0;
    }

    .quantity-cart {
        width: 28px;
        font-size: 0.8rem;
    }

    /* Buttons side by side */
    .cart-buttons-group {
        grid-template-columns: 1fr 1fr;
        gap: 0.5rem;
    }

    .empty-cart-button,
    .pay-cart-button {
        width: 100%;
        padding: 0.65rem 0.4rem;
        font-size: 0.75rem;
        white-space: nowrap;
        letter-spacing: 0;
    }

    /* ---- Contact ---- */
    .contact-section {
        width: 98%;
        border-radius: 8px;
    }

    .submit-button {
        width: 100%;
    }

    /* ---- Decorative dots ---- */
    .dot--2,
    .dot--5 {
        display: none;
    }

    /* ---- Why Choose Us ---- */
    .why-choose-us {
        padding: 0;
    }

    .why-choose-us-grid {
        padding: 0 0.5rem;
    }

    .why-choose-us-item {
        width: 100%;
        max-width: none;
        padding: 1rem 0.75rem;
    }

    .why-choose-us-title {
        font-size: 1.4rem;
        padding: 0 0.5rem;
    }
}

/* ===== VERY SMALL MOBILE (max-width: 423px) ===== */
@media screen and (max-width: 423px) {

    /* Header */
    .header-container {
        padding: 0.5rem 0.75rem;
    }

    .logo-container {
        font-size: 1rem;
    }

    /* ---- Shopping Cart footer ---- */
    .modal-row.footer {
        padding-top: 0.75rem;
    }

    .modal-row.footer .grid-item-modal.right {
        font-size: 0.95rem;
        text-align: center;
        margin-bottom: 0.6rem;
    }

    /* Buttons: compact but readable */
    .cart-buttons-group {
        grid-template-columns: 1fr 1fr;
        gap: 0.4rem;
    }

    .empty-cart-button,
    .pay-cart-button {
        width: 100%;
        padding: 0.6rem 0.25rem;
        font-size: 0.68rem;
        letter-spacing: 0;
        white-space: nowrap;
    }

    .grid-item-modal>div {
        min-width: 0;
    }

    /* ---- Contact ---- */
    .form-group {
        width: 100%;
    }

    /* ---- Decorative dots ---- */
    .dot--3 {
        display: none;
    }
}

/* ===== LANDSCAPE ORIENTATION (mobile) ===== */
@media screen and (max-height: 500px) and (orientation: landscape) {

    .welcome-container {
        gap: 1rem;
    }

    .why-choose-us-grid {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
    }

    .why-choose-us-item {
        flex: 1 1 calc(50% - 1rem);
        max-width: 280px;
        min-height: auto;
    }
}